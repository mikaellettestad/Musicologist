@using Microsoft.AspNetCore.Identity
@inject SignInManager<ApplicationUser> SignInManager
@model Musicologist.ViewModels.CourseViewModel;

<h1>Available courses:</h1>

@{ string route = ""; }

<div class="container">
    <div class="row">
        @foreach (var course in Model.Courses)
        {
            if (SignInManager.IsSignedIn(User))
            {
                route = "/ApplicationUserCourse/CourseDetails?courseId=" + course.Id;
            }
            else
            {
                route = "/Course/Course?courseId=" + course.Id;
            }
            <a href="@route">
                <div class="course zoom col-12 col-sm-4 col-md-4 col-lg-4 box col-xl-4 box">
                    <img class="image-course" src="@course.ImageUrl">
                    <div class="course-title">@course.Title</div>
                </div>
            </a>
        }
    </div>
</div>